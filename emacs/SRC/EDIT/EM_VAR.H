/*
 *	Copyright 1986-1995 Barry A. Scott
 */                    
 
#define EXTERN extern
#define GLOBAL
#define SAVRES
#define VOLATILE

EXTERN unsigned char default_environment_file[MAXPATHLEN+1];
EXTERN unsigned char version_string[80];
EXTERN int protocol_mode;
EXTERN int wake_queued;
EXTERN int complete_reinit;
EXTERN int touched_command_args;
EXTERN volatile int timer_interrupt_occurred;
EXTERN struct queue timer_list_head;
EXTERN volatile int pending_channel_io;
EXTERN unsigned char **gargv;
EXTERN int gargc;
EXTERN unsigned char **images;
EXTERN unsigned char **image_filenames;
EXTERN void * *image_contexts;
EXTERN int image_context_lost;
EXTERN int image_count ;
EXTERN int is_restored;
EXTERN int in_trace;
EXTERN int trace_mode;
EXTERN int trace_into;
EXTERN struct expression last_expression;
EXTERN int (*last_proc)(void);
EXTERN struct bound_name bound_number_node;
EXTERN struct bound_name bound_string_node;
EXTERN struct bound_name bound_variable_node;
EXTERN struct bound_name bound_star_defun_node;
EXTERN unsigned char last_keys_struck[LAST_KEYS_SIZE];
EXTERN unsigned char last_key_struck;
EXTERN struct keymap *current_global_map;
EXTERN struct keymap *global_map;
EXTERN struct keymap *next_global_keymap;
EXTERN struct keymap *next_local_keymap;
EXTERN unsigned char key_mem[MEMLEN+2];
EXTERN int recursive_edit_depth;
EXTERN int minibuf_depth;
EXTERN int remembering;
EXTERN int mem_used;
EXTERN struct prognode *cur_exec;
EXTERN struct emacs_buffer *bf_cur;
EXTERN struct emacs_buffer *minibuf;
EXTERN unsigned char *minibuf_body;
EXTERN struct keymap *minibuf_local_ns_map;
EXTERN struct keymap *minibuf_local_map;
EXTERN unsigned char error_message_text[BUFFERSIZE];
EXTERN unsigned char error_message_parser_string[80];
EXTERN struct bound_name *error_message_parser;
EXTERN VOLATILE struct modespecific bf_mode;
EXTERN unsigned char mode_line_rendition[43+1];
EXTERN unsigned char region_rendition[43+1];
EXTERN unsigned char window_rendition[43+1];
EXTERN unsigned char syntax_keyword1_rendition[43+1];
EXTERN unsigned char syntax_keyword2_rendition[43+1];
EXTERN unsigned char syntax_word_rendition[43+1];
EXTERN unsigned char syntax_string_rendition[43+1];
EXTERN unsigned char syntax_quote_rendition[43+1];
EXTERN unsigned char syntax_comment_rendition[43+1];
EXTERN unsigned char user_1_rendition[43+1];
EXTERN unsigned char user_2_rendition[43+1];
EXTERN unsigned char user_3_rendition[43+1];
EXTERN unsigned char user_4_rendition[43+1];
EXTERN unsigned char user_5_rendition[43+1];
EXTERN unsigned char user_6_rendition[43+1];
EXTERN unsigned char user_7_rendition[43+1];
EXTERN unsigned char user_8_rendition[43+1];
EXTERN struct queue saved_windows;
EXTERN struct windowring *pushed_windows;
EXTERN int G_saveminibuf_body;
EXTERN struct window *wn_cur;
EXTERN struct window *windows;
EXTERN int window_size_variable;
EXTERN int window_width_variable;
EXTERN int this_command;
EXTERN int previous_command;
EXTERN int end_of_mac;
EXTERN unsigned char activity_character;
EXTERN int activity_indicator;
EXTERN int dot;
EXTERN int dot_col;
EXTERN int col_valid;
EXTERN int screen_garbaged;
EXTERN struct emacs_line *phys_screen[MSCREENLENGTH + 1];
EXTERN struct emacs_line *desired_screen[MSCREENLENGTH + 1];
EXTERN struct emacs_line *free_lines;	/* free space list */
EXTERN struct emacs_line *NL_scratch;
EXTERN int arg;
EXTERN enum arg_states arg_state;
EXTERN int argument_prefix_cnt;
EXTERN int last_arg_used;
EXTERN int cant_1line_opt;
EXTERN int cant_1win_opt;
EXTERN int cant_ever_opt;
EXTERN int redo_modes;
EXTERN struct expression *ml_value;
EXTERN struct expression global_value;
EXTERN int err;
EXTERN int n_macs;
EXTERN struct bound_name *mac_bodies[MAXMACS];
EXTERN unsigned char * mac_names[MAXMACS];
EXTERN unsigned char **mac_names_ref;
EXTERN VOLATILE int bf_s1;
EXTERN VOLATILE int bf_s2;
EXTERN VOLATILE int bf_gap;
EXTERN VOLATILE unsigned char *bf_p1;
EXTERN VOLATILE unsigned char *bf_p2;
EXTERN VOLATILE int bf_modified;
EXTERN int bf_journalling;
EXTERN struct variablename **var_desc;
EXTERN unsigned char **var_names;
EXTERN int var_t_size;
EXTERN int n_vars;
EXTERN struct execution_stack execution_root;
EXTERN int term_is_terminal;
EXTERN int term_keyboard;
EXTERN int term_cursor_mode;
EXTERN int term_length;
EXTERN int mouse_enable;
EXTERN int term_width;
EXTERN int term_ansi;
EXTERN int term_deccrt;
EXTERN int term_deccrt2;
EXTERN int term_deccrt3;
EXTERN int term_deccrt4;
EXTERN int term_avo;
EXTERN int term_app_keypad;
EXTERN int term_nopadding;
EXTERN int term_edit;
EXTERN int term_eightbit;
EXTERN int term_regis;
EXTERN int term_output_buffer_size;
EXTERN volatile int keyboard_input_pending;
EXTERN struct trmcontrol *tt;
EXTERN int ignore_version_numbers;
EXTERN int columns_left;
EXTERN unsigned char *text_cursor;
EXTERN unsigned char *attr_cursor;
EXTERN int last_redisplay_paused;
EXTERN unsigned char *reset_minibuf;
EXTERN int curs_y;
EXTERN int curs_x;
EXTERN int quitting_emacs;
EXTERN struct bound_name bound_variable_node;
EXTERN unsigned char *mem_ptr;
EXTERN volatile int input_pending;
EXTERN unsigned char *last_search_string;
EXTERN struct search_globals sea_glob;
EXTERN struct bound_name *default_auto_fill_proc;
EXTERN int default_display_c1;
EXTERN int default_display_eof;
EXTERN int default_read_only_buffer;
EXTERN int default_display_nonprinting;
EXTERN int default_replace_mode;
EXTERN int default_fold_case;
EXTERN int default_right_margin;
EXTERN int default_left_margin;
EXTERN int default_comment_column;
EXTERN int default_tab_size;
EXTERN int default_highlight;
EXTERN int default_syntax_colouring;
EXTERN int default_syntax_array;
EXTERN unsigned char default_mode_format[MODELINE_SIZE];
EXTERN int checkpoint_frequency;
EXTERN struct automode *auto_list;
EXTERN struct bound_name *checkpoint_proc;
EXTERN int force_redisplay;
EXTERN struct syntax_table global_syntax_table;
EXTERN unsigned char *syntax_table_names[MAX_SYNTAX_TABLES];
EXTERN struct syntax_table *syntax_tables[MAX_SYNTAX_TABLES];
EXTERN int number_of_syntax_tables;
EXTERN struct abbrevtable global_abbrev;
EXTERN unsigned char * abbrev_table_names[MAX_ABBREV_TABLES];
EXTERN struct abbrevtable *abbrev_tables[MAX_ABBREV_TABLES];
EXTERN int number_of_abbrev_tables;
EXTERN struct emacs_buffer *buffers;
EXTERN unsigned char **buf_names;
EXTERN int n_buffers;
EXTERN int buf_name_free;
EXTERN int unlink_checkpoint_files;
EXTERN int ask_about_buffer_names;
EXTERN volatile int interrupt_key_struck;
EXTERN int is_read_only;
EXTERN int is_read_write;
EXTERN int is_not_accessible;
EXTERN unsigned char current_directory[MAXPATHLEN+1];
EXTERN unsigned char *exit_emacs_dcl_command;
EXTERN int track_eol;
EXTERN int ctl_arrow;
EXTERN unsigned char *users_name;
EXTERN FILE *message_file;
EXTERN FILE *command_file;
EXTERN int stack_trace_on_error;
EXTERN int remove_help_window;
EXTERN int expand;
EXTERN int help;
EXTERN int in_error_occurred;
EXTERN int auto_help;
EXTERN int in_minibuf_body;

EXTERN int journalling_frequency;
EXTERN int journal_scratch_buffers;

EXTERN unsigned char current_buffer_rms_attrib_str[32];
EXTERN unsigned char rms_attribute_override_str[32];
EXTERN unsigned char default_rms_attribute_str[32];

EXTERN int default_rms_attribute;
EXTERN int rms_attribute_override;

EXTERN unsigned char *last_phrase;
EXTERN int animate_journal_recovery;
EXTERN int black_on_white;
EXTERN int visible_bell;
EXTERN unsigned char backup_file_mode_str[8];
EXTERN unsigned char error_hook[MLISP_HOOK_SIZE];
EXTERN unsigned char trace_hook[MLISP_HOOK_SIZE];
EXTERN unsigned char break_hook[MLISP_HOOK_SIZE];
EXTERN unsigned char bf_auto_fill_hook[MLISP_HOOK_SIZE];
EXTERN unsigned char bf_process_key_hook[MLISP_HOOK_SIZE];
EXTERN unsigned char checkpoint_hook[MLISP_HOOK_SIZE];
EXTERN unsigned char enter_emacs_hook[MLISP_HOOK_SIZE];
EXTERN unsigned char exit_emacs_hook[MLISP_HOOK_SIZE];
EXTERN unsigned char return_to_emacs_hook[MLISP_HOOK_SIZE];
EXTERN unsigned char leave_emacs_hook[MLISP_HOOK_SIZE];
EXTERN unsigned char current_buffer_syntax[MLISP_HOOK_SIZE];
EXTERN unsigned char current_buffer_type[8];
EXTERN unsigned char current_buffer_keymap[80];
EXTERN unsigned char compile_command[300];
EXTERN unsigned char debug_command[300];
EXTERN unsigned char filter_command[300];
EXTERN unsigned char execute_command[300];
EXTERN int cs_enabled;
EXTERN int cs_modified;
EXTERN int cs_cvt_f_keys;
EXTERN int cs_cvt_mouse;
EXTERN unsigned char cs_cvt_8bit_string[256];
EXTERN unsigned char cs_cvt_csi_string[256];
EXTERN unsigned char cs_par_char_string[256];
EXTERN unsigned char cs_par_sep_string[256];
EXTERN unsigned char cs_int_char_string[256];
EXTERN unsigned char cs_fin_char_string[256];
EXTERN unsigned char current_buffer_abbrev[80];

EXTERN int bufcheckvar;
EXTERN unsigned char typnamvar[80];
EXTERN unsigned char bufnamevar[80];
EXTERN int buf_alloc_size_var;
EXTERN int pop_up_windows;
EXTERN int replace_case;
EXTERN int default_replace;
EXTERN int quick_rd;
EXTERN int silently_kill_processes;
EXTERN struct queue channel_list_head;
EXTERN struct process_blk *current_process;
EXTERN struct process_blk **process_ptrs;
EXTERN unsigned char **process_names;
EXTERN int n_processes;
EXTERN int n_process_slots;
EXTERN int scroll_step;
EXTERN int split_height_threshhold;
EXTERN int default_wrap_lines;
EXTERN unsigned char global_mode_string[MODESTRING_SIZE];
EXTERN unsigned char error_file_name[256];
EXTERN int error_line_number;
EXTERN int error_start_position;
EXTERN int is_false;
EXTERN int is_true;
EXTERN int is_dull;
EXTERN int is_word;
EXTERN int is_str;
EXTERN int is_quote_character;
EXTERN int is_comment;
EXTERN unsigned char null_str[1];
EXTERN int dbg_flags;
EXTERN int maximum_dcl_buffer_size;
EXTERN int dcl_buffer_reduction;
EXTERN unsigned char cli_name[64];
EXTERN int get_db_help_flags;
EXTERN int must_checkpoint_on_crash;
EXTERN unsigned char operating_system_name[32];
EXTERN unsigned char operating_system_version[32];
EXTERN unsigned char CPU_type[32];
#if defined(_WINDOWS)    
EXTERN int win_emacs_quit;
#endif
EXTERN struct bound_name interrupt_block;
EXTERN struct bound_name lambda_block;
EXTERN struct bound_name progn_block;

EXTERN unsigned char ui_filter_file_list[256];
EXTERN unsigned char ui_open_file_name[64];
EXTERN unsigned char ui_save_as_file_name[64];
EXTERN unsigned char ui_search_string[128];
EXTERN unsigned char ui_replace_string[128];
EXTERN int ui_open_file_readonly;
EXTERN unsigned char *vecfiles [MAXFILES + 3];
EXTERN unsigned char *vec_db [MAXFILES + 3];
EXTERN struct dbsearch *dbroot;
EXTERN int db_count;
EXTERN unsigned char **db_search_lists;
EXTERN int db_spaceleft;
EXTERN unsigned char cs_attr[256];
EXTERN struct bound_name *trace_proc;
EXTERN struct bound_name *break_proc;
EXTERN struct bound_name *error_proc;
EXTERN unsigned int last_auto_keymap;	/* Index of last auto keymap */
EXTERN unsigned int decompile_max;	/* Size of DecompileBuffer */
EXTERN unsigned char *decompile_buffer;	/* The Trace back buffer */
EXTERN unsigned int decompile_used;
EXTERN int *current_function_length;
EXTERN int *current_break_length;	/* Current function name ptrs */
EXTERN unsigned char **current_function;
EXTERN unsigned char **current_break;
EXTERN struct expression *call_back_result;
EXTERN unsigned char *call_back_str;
EXTERN unsigned int call_back_len;
EXTERN struct bound_name *enter_emacs_proc;
EXTERN struct bound_name *exit_emacs_proc;
EXTERN struct bound_name *leave_emacs_proc;
EXTERN struct bound_name *return_to_emacs_proc;
#ifdef SUBPROCESSES
EXTERN int saved_buffer_count;
EXTERN struct emacs_buffer *saved_buffers[SAVED_BUFFER_MAX];
#endif
EXTERN int elapse_time;
