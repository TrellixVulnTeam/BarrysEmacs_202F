<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>Installing Barry's Emacs from source</title>
<link rev="made" href="mailto:barry@barrys-emacs.org" />
<style>
h1, h2, h3
    {color: #000099;	background-color: lightskyblue}

p
    { width: 50em; }
li
    { width: 45em; }
li div
    { margin-left: .5em; margin-bottom: .25em }
pre
    {color: #0000cc; background-color: #eeeeee; position: relative; left: 40px; margin-right: 80px;
	border-style: solid; border-color: black; border-width: thin;}
tt
    {color: #0000cc; background-color: lightgrey; font-size: larger}
td.menu_active
    {background-color: #4444ff; color: white;}
td a:link
    {background-color: white; color: black; width: 100%; display: block; text-decoration: none;}
td a:unvisited
    {background-color: white; color: black; width: 100%; display: block; text-decoration: none;}
td a:visited
    {background-color: white; color: black; width: 100%; display: block; text-decoration: none;}
td a:hover
    {background-color: #4444ff; color: white; width: 100%; display: block; text-decoration: none;}
div.menu_dropdown
    {border-style: solid; border-color: black; border-width: thin; white-space: nowrap;}

</style>
</head>
<body>
<h1>Installing Barry's Emacs from source</h1>

<p>Ready to install kits for Windows or macOS (Mac OS X) are
available from:</p>

<div style="margin-left: 4em;"><a href="http://www.barrys-emacs.org/emacs8.html">http://www.barrys-emacs.org/emacs8.html</a>.</div>

<h2>Dependencies</h2>

<p>For most platforms you will need:</div></li>
<ul>
<li><div>Python 3.4 or newer, 3.7 recommended.</div></li>
<li><div><tt>pip install xml-preferences</tt></div></li>
<li><div>pycxx 7.1.2 SVN sources from <a href="https://sourceforge.net/projects/cxx/">https://sourceforge.net/projects/cxx/</a>.
Then expand the tarball into Imports/pycxx-7.1.2.</div></li>
<li>git</li>
</ul>

<h3>For NetBSD:</h3>

<ul>
<li><tt>pkg_add sudo python37 git gmake py37-qt5</tt></li>
</ul>

<h3>For Fedora</h4>
<ul>
<li>dnf copr enable barryascott/tools</li>
<li>dnf install python3-xml-preferences</li>
<li>dnf install python3-pycxx-devel</li>
</ul>

<h3>For Windows:</h3>

<ul>
<li><div>git - <a href="https://git-for-windows.github.io">https://git-for-windows.github.io</a></div></li>
<li><div>Python 3.7 win64 or newer strongly recommended.</div></li>
<li><div>Visual C++ 2017 Community Edition (Version 14.1) for Python 3.7 development.</div></li>
<li><div><tt>py -3.7 -m pip install --user --upgrade win-app-packager</tt></div></li>
<li><div><tt>py -3.7 -m pip install --user --upgrade PyQt5</tt></div></li>
<li><div>inno setup - from <a href="http://www.jrsoftware.org/isinfo.php">http://www.jrsoftware.org/isinfo.php</a></div></li>
</ul>

<h3>For macOS:</h3>
<ul>
<li><div>XCode for the Apple App store</div></li>
<li><div>XCode command line tools</div></li>
<li><div><tt>python3.7 -m pip install --user --upgrade PyQt5</tt></div></li>
<li><div>Compile and Install PyQt5 from source. pypi version is too hard to package.</div></li>
<li><div><tt>python2.7 -m pip install --user --upgrade dmgbuild</tt></div></li>
<li><div><tt>python3.7 -m pip install --user --upgrade py2app</tt></div></li>
</ul>

<h2>Build Barry's Emacs</h2>

<h3>For Linux development:</h3>

<p>Note: For the purposes of this documentation it is assumed that the
Barry's Emacs files are in <tt>~/Projects/BarrysEmacs</tt>,
however you can replace that path with any folder name you like.</p>

<ol>
<li>Fetch source</li>
<li><div><tt>mkdir -p ~/Projects</tt></div></li>
<li><div><tt>cd ~/Projects</tt></div></li>
<li><div><tt>git clone https://github.com/barry-scott/BarrysEmacs.git</tt></div></li>

<li>Build GUI and CLI versions of bemacs</li>
<li><div><tt>cd BarrysEmacs/Builder</tt></div></li>
<li><div><tt>. builder_custom_init.sh</tt></div></li>
<li><div><tt>./build-linux.sh</tt></div></li>

<li>Test the CLI build.</li>
<li><div><tt>cd ../Editor</tt></div></li>
<li><div><tt>./bemacs-cli.sh</tt></div></li>

<li>Test the GUI build.</li>
<li><div><tt>cd ../Editor/PyQtBEmacs</tt></div></li>
<li><div><tt>./bemacs-linux.sh --noredirect</tt></div></li>

<li>Install into /usr/local (sudo will prompt for your password).</li>
<li><div><tt>./local-install-linux.sh</tt></div></li>
</ol>

<p>For Fedora use the package_bemacs.py command to create RPMs using mock</p>

<p><tt>python3 package_bemacs.py mock --system-ucd</tt></p>

<h3>For macOS development:</h3>

<p>Note: For the purposes of documentation it is assumed that the
Barry's Emacs files are in <tt>~/Projects/git/BarrysEmacs</tt>,
however you can replace that path with any folder name you like.</p>

<ol>
<li>Fetch source</li>
<li><div><tt>mkdir -p ~/Projects/git</tt></div></li>
<li><div><tt>cd -p ~/Projects/git</tt></div></li>
<li><div><tt>git clone https://github.com/barry-scott/BarrysEmacs.git</tt></div></li>

<li>Build GUI and CLI versions of bemacs</li>
<li><div><tt>cd BarrysEmacs/Builder</tt></div></li>
<li><div><tt>. builder_custom_init.sh</tt></div></li>
<li><div><tt>./build-macosx.sh</tt></div></li>

<li>Test the GUI build.</li>
<li><div><tt>cd ../Editor/PyQtBEmacs</tt></div></li>
<li><div><tt>./bemacs-macosx.sh --noredirect</tt></div></li>
</ol>

<h3>For Windows development:</h3>

<p>Note: For the purposes of documentation it is assumed that the
Barry's Emacs files are in <tt>%USERPROFILE%\Projects\BarrysEmacs</tt>,
however you can replace that path with any folder name you like.</p>

<ol>
<li>Fetch sources</li>
<li><div><tt>cd %USERPROFILE%</tt></div></li>
<li><div><tt>mkdir Projects</tt></div></li>
<li><div><tt>cd Projects</tt></div></li>
<li><div><tt>git clone https://github.com/barry-scott/BarrysEmacs.git</tt></div></li>

<li>Build GUI version of bemacs</li>
<li><div><tt>cd BarrysEmacs\Builder</tt></div></li>
<li><div><tt>builder_custom_init.cmd</tt></div></li>
<li><div><tt>build-windows.cmd</tt></div></li>

<li>Test the GUI build.</li>
<li><div><tt>cd ..\Editor\PyQtBEmacs</tt></div></li>
<li><div><tt>bemacs-windows.cmd --noredirect</tt></div></li>
</ol>


<h3>For NetBSD development:</h3>

<p>Note: For the purposes of documentation it is assumed that the
Barry's Emacs files are in <tt>~/Projects/BarrysEmacs</tt>,
however you can replace that path with any folder name you like.</p>

<p>Note: linux version of scripts are used where they are compatible with NetBSD.</p>

<ol>
<li>Fetch sources</li>
<li><div><tt>mkdir -p ~/Projects</tt></div></li>
<li><div><tt>cd ~/Projects</tt></div></li>
<li><div><tt>git clone https://github.com/barry-scott/BarrysEmacs.git</tt></div></li>

<li>Build GUI and CLI versions of bemacs</li>
<li><div><tt>cd BarrysEmacs/Builder</tt></div></li>
<li><div><tt>. builder_custom_init.sh</tt></div></li>
<li><div><tt>./build-netbsd.sh</tt></div></li>

<li>Test the CLI build.</li>
<li><div><tt>cd ../Editor</tt></div></li>
<li><div><tt>./bemacs-cli.sh</tt></div></li>

<li>Test the GUI build.</li>
<li><div><tt>cd ../Editor/PyQtBEmacs</tt></div></li>
<li><div><tt>./bemacs-linux.sh --noredirect</tt></div></li>

<li>Install into /usr/local (sudo will prompt for your password).</li>
<li><div><tt>./local-install-linux.sh</tt></div></li>
</ol>

<hr/>
</body>
</html>
