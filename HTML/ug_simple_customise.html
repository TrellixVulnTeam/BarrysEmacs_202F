<!DOCTYPE HTML PUBLIC "-//SoftQuad//DTD HoTMetaL PRO 4.0::19980408::extensions to HTML 4.0 for Miva//EN" "hmpro4.dtd">
 
<HTML>
 
<HEAD>
<LINK HREF="custom.css" REL="STYLESHEET"> 
<TITLE>Customising Emacs</TITLE>
</HEAD>

<BODY>
 
<H1>Customising Emacs</H1>
 
<P>There are many different ways you can customise Emacs. You can do the
following:</P>
 
<UL>
<LI>Change settings in the menus at the top of the screen. </LI>
<LI>Give commands while Emacs is running to make it behave differently. For
example, you could toggle between insert and overstrike. Changes such as this
last just for the current Emacs session.</LI>
<LI> Make changes to the Emacs startup files, so that the new behaviour is
present when Emacs starts. For example, you could make Emacs behave differently
depending on the type of file that you are editing. </LI>
<LI>Use command line parameters when starting Emacs, so that you specify
particular packages to load.</LI>
</UL>
<HR WIDTH="50%" ALIGN="LEFT">
<H2><A NAME="changingsettingsinmenus"></A>Emacs menus</H2>
 
<P>Many of the options on the Emacs menus are similar to those found in other
text editors. This section does not describe such options; instead, it
describes those options that are less common.</P>
<H3><A NAME="thefilemenu"></A>The File menu</H3>
<TABLE WIDTH="90%" BORDER="1" CELLPADDING="3" BGCOLOR="#C0C0C0">
<TR>
<TH ALIGN="LEFT" VALIGN="TOP" BGCOLOR="#8080C0"><FONT
FACE="Arial">Option</FONT></TH>
<TH ALIGN="LEFT" VALIGN="TOP" BGCOLOR="#8080C0"><FONT
FACE="Arial">Description</FONT></TH>
</TR>
<TR>
<TD VALIGN="TOP"><FONT FACE="Arial">Save Environment</FONT></TD>
<TD VALIGN="TOP">Saves all details of the current Emacs setting in a binary
file. Emacs automatically loads this file when starting a new session, rather
than loading mlisp files. This means that Emacs can start up much more quickly.
<BR>
<BR>
Note that Emacs saves the text in all buffers. If you are editing a file at the
time, you will see that file every time you start Emacs, even if you delete the
file itself, which is probably not what you want. <BR>
<BR>
The best way to use Save Environment is:<BR>
<OL>
<LI>Customise the startup files until Emacs behaves the way you want.</LI>
<LI>Start a new Emacs session and immediately use Save Environment. This
ensures that you do not save any extra text or key definitions.</LI>
<LI>Whenever you make further changes to Emacs, save the environment again. 
</LI>
</OL>
<BR>
There is more information about Emacs environments in the Emacs User
Guide.</TD>
</TR>
</TABLE>
<HR WIDTH="50%" ALIGN="LEFT">
<H3><A NAME="theeditmenu"></A>The Edit menu</H3>
 
<P>Many of the options on the Edit menu are similar to those found in other
text editors. The less common options are:</P>
<TABLE WIDTH="95%" BORDER="1" CELLPADDING="5" BGCOLOR="#C0C0C0">
<TR>
<TH ALIGN="LEFT" VALIGN="TOP" BGCOLOR="#8080C0"><FONT
FACE="Arial">Option</FONT></TH>
<TH ALIGN="LEFT" VALIGN="TOP" BGCOLOR="#8080C0"><FONT
FACE="Arial">Description</FONT> </TH>
</TR>
<TR>
<TD VALIGN="TOP"><FONT FACE="Arial">Mark</FONT></TD>
<TD VALIGN="TOP">Sets a hard mark so that you can select text. Unlike a normal
Windows mark, this mark is not cleared when you move the cursor. </TD>
</TR>
<TR>
<TD VALIGN="TOP"><FONT FACE="Arial">Case Blind Search</FONT></TD>
<TD VALIGN="TOP">Makes Emacs ignore the case of letters when searching.</TD>
</TR>
<TR>
<TD VALIGN="TOP"><FONT FACE="Arial">Advanced, Delete White Space</FONT></TD>
<TD VALIGN="TOP">Removes all spaces and tabs that are next to the cursoron the
current line. This removes white space to the left and to the right of the
cursor. </TD>
</TR>
<TR>
<TD VALIGN="TOP"><FONT FACE="Arial">Advanced, Tabify Region</FONT></TD>
<TD VALIGN="TOP">Replaces spaces with tabs, where possible, throughout the
selected region.</TD>
</TR>
<TR>
<TD VALIGN="TOP"><FONT FACE="Arial">Advanced, Untabify Region</FONT></TD>
<TD VALIGN="TOP">Replaces tabs with spaces throughout the selected region.</TD>
</TR>
<TR>
<TD VALIGN="TOP"><FONT FACE="Arial">Advanced, Indent Region</FONT></TD>
<TD VALIGN="TOP">Indents the selected text, moving it to the right by one tab
stop.</TD>
</TR>
<TR>
<TD VALIGN="TOP"><FONT FACE="Arial">Advanced, Undent Region</FONT></TD>
<TD VALIGN="TOP">Moves the selected text to the left by one tab stop.</TD>
</TR>
<TR>
<TD VALIGN="TOP"><FONT FACE="Arial">Preferences, Font</FONT></TD>
<TD VALIGN="TOP">This option enables you to select a screen font for Emacs to
use. The list shows just monospaced fonts.</TD>
</TR>
<TR>
<TD VALIGN="TOP"><FONT FACE="Arial">Preferences, Colours</FONT></TD>
<TD VALIGN="TOP">This option enables you to select the colours to use for </TD>
</TR>
<TR>
<TD VALIGN="TOP"><FONT FACE="Arial">Preferences, Directories</FONT> </TD>
<TD VALIGN="TOP">This enables you to specify various locations that Emacs uses:
<TABLE WIDTH="100%" BGCOLOR="#8080FF" BORDER="0">
<TR>
<TD VALIGN="TOP"><KBD><B>Sys$Login</B></KBD></TD>
<TD VALIGN="TOP">This is your personal directory. Under Windows NT this
defaults to the <B>login in</B> directory as defined by the system
administrator.</TD>
</TR>
<TR>
<TD VALIGN="TOP"><KBD><B>Sys$Scratch</B></KBD></TD>
<TD VALIGN="TOP">This is the directory that Emacs functions can use for
temporary files. You can use it when writing your own functions. On a Windows
system you would normally set this to point to your temporary directory, often
<CODE>c:\temp</CODE></TD>
</TR>
<TR>
<TD VALIGN="TOP"><KBD><B>Emacs_User</B></KBD></TD>
<TD VALIGN="TOP">This is your personal Emacs directory. Under Windows NT it
defaults to <CODE>sys$login:\bemacs</CODE></TD>
</TR>
<TR>
<TD VALIGN="TOP"><KBD><B>Emacs_Local_Library</B></KBD></TD>
<TD VALIGN="TOP"> This optional logical name may be used to point to a local
library of Emacs programs and library files.</TD>
</TR>
<TR>
<TD VALIGN="TOP"><KBD><B>Emacs_Journal</B></KBD></TD>
<TD VALIGN="TOP">Emacs writes all journal files to the directory specified by
this logical name.<BR>
<BR>
When journalling is enabled, Emacs saves all the insertions and deletions made
to your buffers in a journal file. The changes are saved to the journal file at
the same time as you make them to the proper file.<BR>
See Barry's Emacs User Guide for
<A HREF="ug_advancededit.html#protectionagainstdisasters">more information about
journalling.</A></TD>
</TR>
<TR>
<TD VALIGN="TOP"><KBD><B>Emacs_Checkpoint</B></KBD></TD>
<TD VALIGN="TOP">Emacs writes all checkpoint files to the directory specified
by this logical name.<BR>
<BR>
When checkpointing is enabled, Emacs saves buffers from time-to-time when a
certain number of keystrokes have been made. The buffers are written
automatically, but you can also force Emacs to checkpoint at any time you wish.
Checkpointing prevents you from losing more than a limited amount of work if a
disaster occurs.<BR>
<BR>
See Barry's Emacs User Guide for
<A HREF="ug_advancededit.html#protectionagainstdisasters">more information about
checkpointing</A>.</TD>
</TR>
<TR>
<TD VALIGN="TOP"><KBD><B>Emacs_Memory</B></KBD></TD>
<TD VALIGN="TOP">Points to the location of the Emacs memory file. By default,
this is the current directory. Define emacs_memory to be the null device to
disable memory files. NUL is the name of the null device on Windows.</TD>
</TR>
<TR>
<TD VALIGN="TOP"><KBD><B>Emacs_Path</B></KBD></TD>
<TD VALIGN="TOP"> This name is used when Emacs attempts to load an MLisp
library from a file. Emacs automatically sets the value of this logical name.
Its value is typically <CODE>.;emacs_user:;emacs_library:</CODE></TD>
</TR>
</TABLE>
</TD>
</TR>
<TR>
<TD VALIGN="TOP"><FONT FACE="Arial">Preferences, User Logical Names</FONT></TD>
<TD VALIGN="TOP">A user logical name points to a directory. You can use the
logical name as shorthand way of referring to that directory. For example, if
you define a user logical name of <B>tmp</B> to point to
<CODE>c:\windows\temp</CODE> you could then refer to a file,
<CODE>myfile.tmp</CODE> within that directory as: <PRE>tmp:myfile.tmp</PRE>
<BR>
<BR>
You can also use logical names when changing Emacs' default directory. You must
use a colon (:) at the end of the name to force Emacs to translate the logical
name. For example, to make Emacs change to the directory pointed to by the tmp
logical name, you could use the following command:<BR>
<BR>
<CODE>change-directory tmp:</CODE> 
</TD>
</TR>
<TR>
<TD VALIGN="TOP"><FONT FACE="Arial">Preferences, Printing</FONT></TD>
<TD VALIGN="TOP">The strings you can enter to set up the print page are:<BR>
<TABLE WIDTH="75%" BGCOLOR="#8080FF" BORDER="0">
<TR>
<TD><KBD><B>%p</B></KBD></TD>
<TD> page number</TD>
</TR>
<TR>
<TD><KBD><B>%P</B></KBD> </TD>
<TD>total number of pages</TD>
</TR>
<TR>
<TD> <KBD><B>%b</B></KBD></TD>
<TD>buffer name</TD>
</TR>
<TR>
<TD><KBD><B>%fn</B></KBD></TD>
<TD> file name and type</TD>
</TR>
<TR>
<TD> <KBD><B>%fp</B></KBD></TD>
<TD>path to file</TD>
</TR>
<TR>
<TD> <KBD><B>%ft</B></KBD></TD>
<TD> time stamp of the file</TD>
</TR>
</TABLE>
</TD>
</TR>
<TR>
<TD VALIGN="TOP"><FONT FACE="Arial">Preferences, File Parsing rules</FONT>
</TD>
<TD VALIGN="TOP">Use this option if you need to force Emacs to use long
filenames or to use short filenames when accessing a particular disk. Normally,
Emacs can determine the correct setting automatically, so you are unlikely to
need to use this option.</TD>
</TR>
</TABLE>
<HR WIDTH="50%" ALIGN="LEFT">
<H2> <A NAME="theviewmenu"></A>The View menu</H2>
<TABLE WIDTH="90%" BORDER="1" CELLPADDING="3" BGCOLOR="#C0C0C0">
<TR>
<TH ALIGN="LEFT" VALIGN="TOP" BGCOLOR="#8080C0"><FONT
FACE="Arial">Option</FONT></TH>
<TH ALIGN="LEFT" VALIGN="TOP" BGCOLOR="#8080C0"><FONT
FACE="Arial">Description</FONT></TH>
</TR>
<TR>
<TD VALIGN="TOP"><FONT FACE="Arial">View White Space</FONT></TD>
<TD VALIGN="TOP">Displays tabs and returns. You need to use a font that has
characters for these. Under Windows, both Monotype.com and Lucida Console work
well; Courier does not. Monotype.com is available for free from
<A HREF="http://www.microsoft.com">Microsoft's web site</A>.</TD>
</TR>
<TR>
<TD VALIGN="TOP"><FONT FACE="Arial">Wrap Long Lines</FONT></TD>
<TD VALIGN="TOP">When this is set, Emacs wraps lines that are too long to fit
in the window. The behaviour is not the same as you get with Windows programs
such as Notepad: movement commands still regard the line as a single line.
Thus, next-line moves the cursor to the next proper line, which may mean moving
past several wrapped lines.</TD>
</TR>
</TABLE>
<HR>
 
<H1><A NAME="emacscommandline"></A>Using the Emacs command line</H1>
 
<P>There are a number of different command line options that you can use when
starting Emacs:</P>
 
<P>To make Emacs open a file and go to a specific line number you can use any
of the following:</P>
 
<UL>
<LI>bemacs +line-num file</LI>
<LI>bemacs /line=line-num file</LI>
<LI>bemacs /line:line-num file</LI>
<LI>bemacs -line=line-num file</LI>
<LI>bemacs -line:line-num file</LI>
</UL>
 
<P>To make Emacs open a file and make the buffer read-only you can use either
of the following:</P>
 
<UL>
<LI>bemacs /readonly file</LI>
<LI>bemacs -readonly file</LI>
</UL>
 
<P>To make Emacs open a file and make the buffer writeable you can use either
of the following:</P>
 
<UL>
<LI>bemacs /noreadonly file</LI>
<LI>bemacs -noreadonly file</LI>
</UL>
 
<UL>
<LI>bemacs /cd</LI>
<LI>bemacs -cd</LI>
</UL>
<HR ALIGN="LEFT">
 
<H1><A NAME="startupfiles"></A>Changing the Emacs startup files</H1>
 
<P>When Emacs starts up, it does the following:</P>
<OL>
<LI>Looks in the directory pointed to by the logical Emacs_User for the file
Emacsinit.ml. If the file is there, Emacs executes the commands in it.</LI>
<LI>If Emacs cannot find Emacsinit.ml in Emacs_User, it looks for the default
Emacsinit.ml, which is in emacs_Library.</LI>
</OL>
 
<P>You can change Emacs' behaviour by editing Emacsinit.ml in emacs_Library. 
</P>
 
<P>If you do not already have a copy of <KBD>Emacs_User:Emacsinit.ml</KBD>, the
best way to start is to copy <KBD>emacs_Library:Emacsinit.ml</KBD> to
<KBD>Emacs_User:Emacsinit.ml</KBD>. You can then add your own customisations to
the bottom of the file.</P>
<HR WIDTH="50%" ALIGN="LEFT">
<H2><A NAME="settingavariable"></A>Setting a variable</H2>
 
<P>The simplest thing you can do when editing Emacsinit.ml is to make changes
to Emacs variables. For example, there is an Emacs global variable called
<CODE>replace-case</CODE>. If you set this variable to 1 then, when doing
string replacements, Emacs alters the case of the new string to match that of
the string that is being replaced. </P>
 
<P>By default, Emacs starts with <CODE>replace-case</CODE> set to 0, but you
could easily add the following line to your Emacsinit.ml file so that Emacs
starts up with <CODE>replace-case</CODE> turned on:</P>
<PRE>(setq replace-case 1)</PRE>

 
<P>The standard variables are listed in the Mlisp Reference.</P>
<HR WIDTH="50%" ALIGN="LEFT">
<H2><A NAME="differentfiletypes"></A>Customising Emacs for different filetypes 
</H2>
 
<P>You can make Emacs behave differently depending on the type of file that you
are editing. For example, when editing a text file you may want to make Emacs
automatically set up margins, or to change which characters are word
characters, or set up some key definitions.</P>
 
<P>Whatever it is you want Emacs to do, you must define a suitable function, or
use an existing function. For example, to make Emacs execute a function called
<CODE>c-mode</CODE> for all *.c files that it opens, you can add the following
line to emacsinit.ml:</P>
<PRE>(auto-execute &quot;c-mode&quot; &quot;*.c&quot;)</PRE>

<HR COLOR="#400080" SIZE="4">
</BODY>
</HTML>

