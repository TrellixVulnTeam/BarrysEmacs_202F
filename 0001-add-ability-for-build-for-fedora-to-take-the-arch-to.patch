From babe5e789c65188efcab7437410ffa8f8dced76c Mon Sep 17 00:00:00 2001
From: Barry Scott <barry@barrys-emacs.org>
Date: Tue, 3 May 2022 19:26:33 +0100
Subject: [PATCH] add ability for build-for-fedora to take the arch to build as
 an arg

---
 Builder/build-for-fedora.sh | 13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

diff --git a/Builder/build-for-fedora.sh b/Builder/build-for-fedora.sh
index 1c74c57..bedf6b3 100755
--- a/Builder/build-for-fedora.sh
+++ b/Builder/build-for-fedora.sh
@@ -1,7 +1,14 @@
 #!/bin/bash
+set -x
 cmd=${1:-mock-testing}
-rel=${2}
-if [ "${rel}" = "" ]
+arch=${2}
+fedora_rel=${3}
+if [ "$arch" = "" ]
+then
+    arch=$(arch)
+fi
+
+if [ "${fedora_rel}" = "" ]
 then
     python3 ./package_bemacs.py ${cmd} \
         --system-hunspell \
@@ -9,7 +16,7 @@ then
 
 else
     python3 ./package_bemacs.py ${cmd} \
-        --mock-target=fedora-${rel}-$(arch) \
+        --mock-target=fedora-${fedora_rel}-${arch} \
         --system-hunspell \
         --colour
 fi
-- 
2.35.1

