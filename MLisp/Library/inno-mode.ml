;
; inno mode
;
(defun
    (inno-mode
        (setq mode-string "inno")
        (use-syntax-table "inno")
        (use-local-map "inno-map")
        (use-abbrev-table "inno")
        ; defaults for grep
        (error-occurred (setq grep-default-files "*.iss")
        (novalue)
    )
)

(save-window-excursion
    (temp-use-buffer "~inno-hack")

    (define-keymap "inno-map")
    (define-keymap "inno-ESC-map")
    (use-local-map "inno-map")
    (local-bind-to-key "inno-ESC-map" "\e")
    (execute-mlisp-file "inno-mode.key")

    (use-syntax-table "inno")
    (modify-syntax-table "paren" "[" "]")
    (modify-syntax-table "string" "\"")
    (modify-syntax-table "word" "_")
    ;(modify-syntax-table "comment" "\n;" "\n")

    (modify-syntax-table "keyword-1"  "[code]")
    (modify-syntax-table "keyword-1"  "[Components]")
    (modify-syntax-table "keyword-1"  "[Dirs]")
    (modify-syntax-table "keyword-1"  "[Files]")
    (modify-syntax-table "keyword-1"  "[Icons]")
    (modify-syntax-table "keyword-1"  "[INI]")
    (modify-syntax-table "keyword-1"  "[InstallDelete]")
    (modify-syntax-table "keyword-1"  "[LangOptions]")
    (modify-syntax-table "keyword-1"  "[Messages]")
    (modify-syntax-table "keyword-1"  "[Registry]")
    (modify-syntax-table "keyword-1"  "[Run]")
    (modify-syntax-table "keyword-1"  "[Setup]")
    (modify-syntax-table "keyword-1"  "[Tasks]")
    (modify-syntax-table "keyword-1"  "[Types]")
    (modify-syntax-table "keyword-1"  "[UninstallDelete]")
    (modify-syntax-table "keyword-1"  "[UninstallRun]")

    (modify-syntax-table "keyword-2"  "AdminPrivilegesRequired=")
    (modify-syntax-table "keyword-2"  "AllowNoIcons=")
    (modify-syntax-table "keyword-2"  "AllowRootDirectory=")
    (modify-syntax-table "keyword-2"  "AllowUNCPath=")
    (modify-syntax-table "keyword-2"  "AlwaysCreateUninstallIcon=")
    (modify-syntax-table "keyword-2"  "AlwaysRestart=")
    (modify-syntax-table "keyword-2"  "AlwaysShowComponentsList=")
    (modify-syntax-table "keyword-2"  "AlwaysShowDirOnReadyPage=")
    (modify-syntax-table "keyword-2"  "AlwaysShowGroupOnReadyPage=")
    (modify-syntax-table "keyword-2"  "AlwaysUsePersonalGroup=")
    (modify-syntax-table "keyword-2"  "AppCopyright=")
    (modify-syntax-table "keyword-2"  "AppId=")
    (modify-syntax-table "keyword-2"  "AppMutex=")
    (modify-syntax-table "keyword-2"  "AppName=")
    (modify-syntax-table "keyword-2"  "AppPublisher=")
    (modify-syntax-table "keyword-2"  "AppPublisherURL=")
    (modify-syntax-table "keyword-2"  "AppSupportURL=")
    (modify-syntax-table "keyword-2"  "AppUpdatesURL=")
    (modify-syntax-table "keyword-2"  "AppVerName=")
    (modify-syntax-table "keyword-2"  "AppVersion=")
    (modify-syntax-table "keyword-2"  "Attribs:")
    (modify-syntax-table "keyword-2"  "BackColor=")
    (modify-syntax-table "keyword-2"  "BackColor2=")
    (modify-syntax-table "keyword-2"  "BackColorDirection=")
    (modify-syntax-table "keyword-2"  "BackSolid=")
    (modify-syntax-table "keyword-2"  "ChangesAssociations=")
    (modify-syntax-table "keyword-2"  "Comment:")
    (modify-syntax-table "keyword-2"  "CopyMode:")
    (modify-syntax-table "keyword-2"  "CopyrightFontName:")
    (modify-syntax-table "keyword-2"  "CopyrightFontSize:")
    (modify-syntax-table "keyword-2"  "CreateAppDir=")
    (modify-syntax-table "keyword-2"  "CreateUninstallRegKey=")
    (modify-syntax-table "keyword-2"  "DefaultDirName=")
    (modify-syntax-table "keyword-2"  "DefaultGroupName=")
    (modify-syntax-table "keyword-2"  "Description:")
    (modify-syntax-table "keyword-2"  "DestDir:")
    (modify-syntax-table "keyword-2"  "DestName:")
    (modify-syntax-table "keyword-2"  "DialogFontName:")
    (modify-syntax-table "keyword-2"  "DialogFontSize:")
    (modify-syntax-table "keyword-2"  "DialogFontStandardHeight=")
    (modify-syntax-table "keyword-2"  "DirExistsWarning=")
    (modify-syntax-table "keyword-2"  "DisableAppendDir=")
    (modify-syntax-table "keyword-2"  "DisableDirPage=")
    (modify-syntax-table "keyword-2"  "DisableFinishedPage=")
    (modify-syntax-table "keyword-2"  "DisableProgramGroupPage=")
    (modify-syntax-table "keyword-2"  "DisableReadyMemo=")
    (modify-syntax-table "keyword-2"  "DisableReadyPage=")
    (modify-syntax-table "keyword-2"  "DisableStartupPrompt=")
    (modify-syntax-table "keyword-2"  "EnableDirDoesntExistWarning=")
    (modify-syntax-table "keyword-2"  "ExtraDiskSpaceRequired=")
    (modify-syntax-table "keyword-2"  "ExtraDiskSpaceRequired:")
    (modify-syntax-table "keyword-2"  "Filename:")
    (modify-syntax-table "keyword-2"  "Flags:")
    (modify-syntax-table "keyword-2"  "FlatComponentsList=")
    (modify-syntax-table "keyword-2"  "FontInstall:")
    (modify-syntax-table "keyword-2"  "GroupDescription:")
    (modify-syntax-table "keyword-2"  "HotKey:")
    (modify-syntax-table "keyword-2"  "IconFilename:")
    (modify-syntax-table "keyword-2"  "IconIndex:")
    (modify-syntax-table "keyword-2"  "InfoAfterFile=")
    (modify-syntax-table "keyword-2"  "InfoBeforeFile=")
    (modify-syntax-table "keyword-2"  "Key:")
    (modify-syntax-table "keyword-2"  "LanguageID:")
    (modify-syntax-table "keyword-2"  "LanguageName:")
    (modify-syntax-table "keyword-2"  "LicenseFile=")
    (modify-syntax-table "keyword-2"  "MessagesFile=")
    (modify-syntax-table "keyword-2"  "MinVersion=")
    (modify-syntax-table "keyword-2"  "MinVersion:")
    (modify-syntax-table "keyword-2"  "Name:")
    (modify-syntax-table "keyword-2"  "Tasks:")
    (modify-syntax-table "keyword-2"  "OnlyBelowVersion=")
    (modify-syntax-table "keyword-2"  "OnlyBelowVersion:")
    (modify-syntax-table "keyword-2"  "Parameters:")
    (modify-syntax-table "keyword-2"  "Password=")
    (modify-syntax-table "keyword-2"  "Root:")
    (modify-syntax-table "keyword-2"  "RunOnceId:")
    (modify-syntax-table "keyword-2"  "Section:")
    (modify-syntax-table "keyword-2"  "ShowComponentSizes=")
    (modify-syntax-table "keyword-2"  "Source:")
    (modify-syntax-table "keyword-2"  "StatusMsg:")
    (modify-syntax-table "keyword-2"  "String:")
    (modify-syntax-table "keyword-2"  "Subkey:")
    (modify-syntax-table "keyword-2"  "TitleFontName:")
    (modify-syntax-table "keyword-2"  "TitleFontSize:")
    (modify-syntax-table "keyword-2"  "Type:")
    (modify-syntax-table "keyword-2"  "Types:")
    (modify-syntax-table "keyword-2"  "Uninstallable=")
    (modify-syntax-table "keyword-2"  "UninstallDisplayIcon=")
    (modify-syntax-table "keyword-2"  "UninstallDisplayName=")
    (modify-syntax-table "keyword-2"  "UninstallFilesDir=")
    (modify-syntax-table "keyword-2"  "UninstallIconName=")
    (modify-syntax-table "keyword-2"  "UninstallLogMode=")
    (modify-syntax-table "keyword-2"  "UninstallStyle=")
    (modify-syntax-table "keyword-2"  "UpdateUninstallLogAppName=")
    (modify-syntax-table "keyword-2"  "UsePreviousAppDir=")
    (modify-syntax-table "keyword-2"  "UsePreviousGroup=")
    (modify-syntax-table "keyword-2"  "UsePreviousSetupType=")
    (modify-syntax-table "keyword-2"  "UsePreviousTasks=")
    (modify-syntax-table "keyword-2"  "ValueData:")
    (modify-syntax-table "keyword-2"  "ValueName:")
    (modify-syntax-table "keyword-2"  "ValueType:")
    (modify-syntax-table "keyword-2"  "WelcomeFontName:")
    (modify-syntax-table "keyword-2"  "WelcomeFontSize:")
    (modify-syntax-table "keyword-2"  "WindowResizable=")
    (modify-syntax-table "keyword-2"  "WindowShowCaption=")
    (modify-syntax-table "keyword-2"  "WindowStartMaximized=")
    (modify-syntax-table "keyword-2"  "WindowVisible=")
    (modify-syntax-table "keyword-2"  "WizardImageBackColor=")
    (modify-syntax-table "keyword-2"  "WizardImageFile=")
    (modify-syntax-table "keyword-2"  "WizardSmallImageFile=")
    (modify-syntax-table "keyword-2"  "WizardStyle=")
    (modify-syntax-table "keyword-2"  "WorkingDir:")

    (modify-syntax-table "keyword-3"  "allowunsafefiles")
    (modify-syntax-table "keyword-3"  "alwaysoverwrite ")
    (modify-syntax-table "keyword-3"  "alwaysskipifsameorolder")
    (modify-syntax-table "keyword-3"  "binary")
    (modify-syntax-table "keyword-3"  "checkedonce")
    (modify-syntax-table "keyword-3"  "closeonexit")
    (modify-syntax-table "keyword-3"  "comparetimestampalso")
    (modify-syntax-table "keyword-3"  "confirmoverwrite")
    (modify-syntax-table "keyword-3"  "createkeyifdoesntexist")
    (modify-syntax-table "keyword-3"  "createonlyiffileexists")
    (modify-syntax-table "keyword-3"  "createvalueifdoesntexist")
    (modify-syntax-table "keyword-3"  "deleteafterinstall")
    (modify-syntax-table "keyword-3"  "deleteafterinstall")
    (modify-syntax-table "keyword-3"  "deletekey")
    (modify-syntax-table "keyword-3"  "deletevalue")
    (modify-syntax-table "keyword-3"  "dirifempty")
    (modify-syntax-table "keyword-3"  "dontcloseonexit")
    (modify-syntax-table "keyword-3"  "dontcreatekey")
    (modify-syntax-table "keyword-3"  "dword")
    (modify-syntax-table "keyword-3"  "exclusive")
    (modify-syntax-table "keyword-3"  "expandsz")
    (modify-syntax-table "keyword-3"  "external")
    (modify-syntax-table "keyword-3"  "files")
    (modify-syntax-table "keyword-3"  "filesandordirs")
    (modify-syntax-table "keyword-3"  "fontisnttruetype")
    (modify-syntax-table "keyword-3"  "hidden")
    (modify-syntax-table "keyword-3"  "hidewizard")
    (modify-syntax-table "keyword-3"  "iscustom")
    (modify-syntax-table "keyword-3"  "isreadme")
    (modify-syntax-table "keyword-3"  "multisz")
    (modify-syntax-table "keyword-3"  "noerror")
    (modify-syntax-table "keyword-3"  "none")
    (modify-syntax-table "keyword-3"  "noregerror")
    (modify-syntax-table "keyword-3"  "normal")
    (modify-syntax-table "keyword-3"  "nowait")
    (modify-syntax-table "keyword-3"  "onlyifdestfileexists")
    (modify-syntax-table "keyword-3"  "onlyifdoesntexist")
    (modify-syntax-table "keyword-3"  "overwritereadonly")
    (modify-syntax-table "keyword-3"  "postinstall")
    (modify-syntax-table "keyword-3"  "preservestringtype")
    (modify-syntax-table "keyword-3"  "readonly")
    (modify-syntax-table "keyword-3"  "recursesubdirs")
    (modify-syntax-table "keyword-3"  "regserver")
    (modify-syntax-table "keyword-3"  "regtypelib")
    (modify-syntax-table "keyword-3"  "restart")
    (modify-syntax-table "keyword-3"  "restartreplace")
    (modify-syntax-table "keyword-3"  "runmaximized")
    (modify-syntax-table "keyword-3"  "runmaximized")
    (modify-syntax-table "keyword-3"  "runminimized")
    (modify-syntax-table "keyword-3"  "runminimized")
    (modify-syntax-table "keyword-3"  "sharedfile")
    (modify-syntax-table "keyword-3"  "shellexec")
    (modify-syntax-table "keyword-3"  "skipifdoesntexist")
    (modify-syntax-table "keyword-3"  "skipifnotsilent")
    (modify-syntax-table "keyword-3"  "skipifsilent")
    (modify-syntax-table "keyword-3"  "skipifsourcedoesntexist")
    (modify-syntax-table "keyword-3"  "string")
    (modify-syntax-table "keyword-3"  "system")
    (modify-syntax-table "keyword-3"  "unchecked")
    (modify-syntax-table "keyword-3"  "unchecked")
    (modify-syntax-table "keyword-3"  "uninsalwaysuninstall")
    (modify-syntax-table "keyword-3"  "uninsclearvalue")
    (modify-syntax-table "keyword-3"  "uninsdeleteentry")
    (modify-syntax-table "keyword-3"  "uninsdeletekey")
    (modify-syntax-table "keyword-3"  "uninsdeletekeyifempty")
    (modify-syntax-table "keyword-3"  "uninsdeletesection")
    (modify-syntax-table "keyword-3"  "uninsdeletesectionifempty")
    (modify-syntax-table "keyword-3"  "uninsdeletevalue")
    (modify-syntax-table "keyword-3"  "uninsneveruninstall ")
    (modify-syntax-table "keyword-3"  "uninsneveruninstall")
    (modify-syntax-table "keyword-3"  "uninsneveruninstall")
    (modify-syntax-table "keyword-3"  "useapppaths")
    (modify-syntax-table "keyword-3"  "waituntilidle")

    (kill-buffer "~inno-hack")
)
(novalue)
